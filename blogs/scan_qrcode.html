<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;utf-8">
<title>FitQR PLus QRCode Reader</title>
</head>
<meta content="条码识别二次开发,barcode SDK,barcode decoding,Halley2 barcode sdk" name="keywords">
<meta content="Barcode SDK,单高效的条码二次开发,识别复杂背景和环境下的模糊二维码" name="description">
<meta http-equiv="expires" content="0">
<meta http-equiv="expires" content="0">
<meta http-equiv="cache-control" content="no-store">
<link rel="stylesheet" href="/css/qrspace.css" type="text/css"/>
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="/js/qrspace.js"></script>
<body>
<h2>模糊二维码 QRCode 的识别研究</h2>

<p>开源的二维码识别项目为客户的二维码识别应用开发提供了一个简单、免费的入门级手段。作为学习和研究条形码识别和二维码识别的算法研究起点，值得推荐。

    二维码识别可以说入门容易，精通还需要较高的技术门槛。这是因为有一些开源项目可以参考，只要有一定的编程基础、较好的英文阅读能力，在开源的基础上捣鼓一个原理性的二维码识别程序还是没有什么难度的，设置说即使英文基础较差，也有很多中文的资料和经验可供参考，需要的主要是时间和精力而已。

    值得注意的是，虽然需要投入一定的时间和精力进行消化和吸收，想要获得比较理想的效果还需要花费不菲的代价进行优化和升级，但是在工业和实际应用中依然满足不了实际的需要，这不是因为二维码识别技术目前不够成熟，而主要是因为开源项目的天然缺陷造成的：
<li>1、大多数开源的项目只是进行了基本的图像处理，如彩色图像的灰度化、二值化处理，无法使用复杂和环境下的二维码检测。</li>
<li>2、开源项目只是提供了二维码的原理性检测和识别，无法应对模糊失真环境下的二维码检测和识别；</li>
<li>3、开源项目的检测和采样算法都比较简单，对于实际应用中千变万化的场景无法适应。</li>
</p>

<p>所谓模糊二维码，一般是使用定焦 Camera 所拍摄的图片或者虽然有自动对焦但是对焦不清晰的情况下所拍摄的照片，或者虽然对焦清晰但是二维码原图由于磨损、浸水或打印等原因造成的图像模糊。</p>
<img class="spic" src="/pics/test/weixinCodeG50.gif" alt="模糊图像"/>
<img class="spic" src="/pics/test/ScreenshotG30.gif" alt="正常图像"/>
<p>模糊二维码由于很难获得较为准确的二值图像，进而在模块检测的时候会将神色模块检测成浅色模块，如果这种情况比较严重，则标准的二维码检测算法就会失效，进而造成无法检测出二维码或者虽然可以检测出二维码但是无法通过纠错算法进而出现二维码识别失败的情况。</p>

<h3>主要开源二维码识别算法介绍</h3>
<p>为了便于比较，笔者选择了被中国广大企业各个人爱好者所选用的开源项目 zXing 和 zBar 项目进行分析比较，检测开源项目和商用项目之间存在的差异，便于需要二维码识别功能的朋友参考，文中有不妥和不足之处，欢迎批评指正，以便共同研究和进步。
</p>
<h4>开源二维码识别项目-zXing</h4>
<p>开发语言：Java</p>
<p>项目地址：git://github.com/zxing</p>
<p>开源协议：Apache-2.0</p>
<p>以 Java 语言为基础开发，旨在提供一种二维码识别解决方案，后被 Google 赞助支持，用于 Android 上二维码识别的开源解决方案，项目目前托管在 git://github.com/zxing</p>
<p>zXing 曾经被移植成多种语言，如 C++，ObjectC，PHP，Javascript 等，不过现在已经停止了其他语言的更新而专注于 Java 语言和 Android 平台上的应用开发。</p>
<p>作为直接可以测试的页面，zXing 官方在线识别页面如下：<a href="https://zxing.org/w/decode.jspx">https://zxing.org/w/decode.jspx</a></p>
<h4>开源二维码识别项目-zBar</h4>
<p>这是一个名为 spadix 的网友所开发的开源项目，spadix@users.soureforge.net</p>
<p>开发语言：C</p>
<p>项目地址：<a href"zbar.sourceforge.net">zbar.sourceforge.net</a></p>
<p>开源协议：GPL</p>
<p该项目使用 C 语言开发，主要支持 Windows ，Linux，IOS 和嵌入式平台平台等，是C语言开发者研究和开发自己的二维码识别算法的最佳起点项目，目前该项目已经不再更新了。</p>
<p>zBar提供了已经编译器好的 Windows 平台的二进制代码，可以下载后直接在 Windows 系统下直接运行。</p>
<h3>商用二维码识别SDK</h3>
<p>目前还没有发现有商用的开源项目，由于版权的原因，只选择了<a href="http://www.efittech.com">斐泰科技</a>的商用二维码SDK进行了对比测试，以发现商用二维码识别的是否有优势以及优势所在。</p>
<p>开发语言：C/C++,C#,VBA，VB,VB.Net,JavaScript,VBScript,Delphi，J#，Java，FoxPro</p>
<p>参考地址：http://www.efittech.com/cp_4.html</p>
<h3>测试二维码图片之一</h3>
<p>此次共使用500张图片进行测试，从结果可以看出，开源项目的识别率需要改进的余地依然很大，在实际的应用中根本无法满足实际识别的要求。</p>
<p align="center">
<table align=center width="100%">
    <tr><td>测试图片列表</td><td>图片预览</td></tr>
    <tr><td>
        <ul>
            <li class="lstImage">/pics/test/ScreenshotG30.gif</li>
            <li class="lstImage">/pics/test/ScreenshotG40.gif</li>
            <li class="lstImage">/pics/test/weixin-code.png</li>
<li class="lstImage">/pics/test/weixinCode-gauss.gif</li>
<li class="lstImage">/pics/test/weixinCode.JPG</li>
<li class="lstImage">/pics/test/weixinCodeG40.gif</li>
<li class="lstImage">/pics/test/weixinCodeG50.gif</li>
</ul>
    </td>
        <td><img width="600px" height="600px" id="picPreview" src="/pics/test/ScreenshotG30.gif" alt="测试图片"></img></td></tr>
</table>

<p id="picName">/pics/test/screenshotG30.gif</p>
<div>
<span class="mbuttons" id="btnFirstImage">第1张</span>
<span class="mbuttons" id="btnPrevPage">前1页</span>
<span class="mbuttons" id="btnPrevImage">前1张</span>
<span class="mbuttons" id="btnNextImage">后1张</span>
<span class="mbuttons" id="btnNextPage">后1页</span>
<span class="mbuttons" id="btnLastImage">最后1张</span>
</div>
<p>从目前的测试来看，对于手机二维码应用，如果手机摄像头的成像质量不错的情况下，开源二维码识别项目可以获得较好的识别效果。从作者的研究来看，目前国内的手机二维码识别软件90%以上都是在开源的基础上开发的，这从一些极限测试就可以发现一些端倪。</p>
<p>但是，对于一些首读率要求高的场合，开源的识别效果就太差强人意了。</p>
<p>对于一些首读率要求很高的场合，特别是事后处理的情况下，往往要求通过检测一张图片识别出一个甚至多个二维码，二维码识别算法的优劣直接关系到二维码是否可以被成功检测。开源算法的局限性就更加突出。</p>

<h3>开源二维码识别项目的优化</h3>
<p>开源项目的优化目的主要是为了解决2大问题：
    <li>提高识别速度：即减少单帧图片的识别时间和加快检测出符号所需要的时间</li>
    <li>提高识别率：即优化图像处理和识别算法，提高检测二维码的能力</li>
</p>
<p><ul>开源二维码识别项目的优化主要有2个层面的问题：
    <li><a href="#optApplication">应用层面的优化</a>，和</li>
    <li><a href="#optAlgorithm">算法层面的优化</a></li>
</ul>
</p>
<h4><a name="optApplication"></a>开源项目应用层面的优化</h4>
<p>这种层面的优化不牵涉到深层图像处理和识别算法的优化，属于比较简单易行的优化。只要具备一定的开发基础就可以进行，有时候会有明显的效果。
    <ul>主要包括：
    <li>扫描区域的优化（主要针对zXing）：扫描区域的大小直接影响识别速度。处理一张240X240像素所需要的时间要比处理一张640*480像素的图像所需要的时间要小得多。zXing引导开发者制作手机二维码识别APP的时候增加一个取景框，要求二维码在取景框内才可以实现识别，其实就是一种通过指定扫描区域的方式来减少识别时间的。</li>
    <li>扫描图像的优化:包括扫描深度、扫描的步长等参数。</li>
    <li>扫描参数的修改：</li>
    <li>识别码制的优化：开源项目本身支持很多种符号类型，每一种符号类型的检测都需要时间，因此在实际应用中根据所需要识别的符号类型，剔除不需要识别的符号类型，进而减少单针图像的识别时间。这其实也是一种应用层面的优化，可以通过参数设置直接实现。</li>
</ul>
</p>
<h4><a name-"optAlgorithm"></a>开源项目算法层面的优化</h4>
<h4>开源项目的优化极限</h4>
<p>从以上的讨论可以看出，开源项目的优化有很大的局限性，个人或小企业很难进行深层的优化，这从市面上存在很多二维码识别apk，但是识别水平都差不多就可以说明。因此，对于“只需拥有、无论好坏”的项目来说，选择开源的项目不失为一种选择。</p>
<p>术业有专攻，这话一点都不假。正象硬件产品有很大的价格差异是一样的道理，软件产品特别是牵涉到算法的产品同样存在很大的差异，只能根据项目和自身企业的特点选择一种合适方案。</p>

<p>文中图片如有侵权，请致信:MagicQR@hotmail.com,即刻删除。</p>

</body>
</html>
